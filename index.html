<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RUMAT.STUDIO</title>
  <meta name="description" content="Luonnosta syntynyt. Reissuissa testattu. Neuleet ja asusteet poluille ja kaupunkiin – istuvat, hengittävät ja kestävät."/>

  <!-- Fontit + Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- OG -->
  <meta property="og:title" content="RUMAT.STUDIO – Luonnosta syntynyt. Reissuissa testattu.">
  <meta property="og:description" content="Neuleet ja asusteet poluille ja kaupunkiin – istuvat, hengittävät ja kestävät.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://placehold.co/1200x630?text=RUMAT.STUDIO">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    :root{
      --footer-black:#0B0F0E;
      --olive:#A1A266;
      --ivory:#F6F6F4;
    }
    html,body{height:100%}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
      color:#111827; background:var(--ivory);
      overflow-x:hidden;
    }
    .serif{font-family:"Libre Baskerville",serif}

    /* Kiinteä WebGL-tausta */
    #aurora-canvas{
      position:fixed; inset:0; z-index:-2; display:block; width:100vw; height:100vh;
    }

    .shadow-soft{box-shadow:0 6px 20px rgba(0,0,0,.12)}
    .btn{border-radius:9999px;padding:.6rem 1rem;border:1px solid rgb(214 211 209);
         transition:transform .06s ease, box-shadow .12s ease, background-color .15s;}
    .btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.12); }
    .btn-dark{ background:#0b0f0e; color:#f8fafb; border-color:#0b0f0e; }
    .btn-olive{ background:var(--olive); color:#202020; border-color:#8f945a; }

    /* Header background fade kun skrollataan */
    #header-bg{transition:background-color .25s ease, border-color .25s ease, border-bottom-width .25s ease;}
    /* Hero-tekstin kevyt nousu */
    #hero-text{transition:transform .12s ease-out;}

    /* Some upotusten yhtenäiset kortit */
    .embed-card{
      width:100%; aspect-ratio: 1 / 1.25;
      border:1px solid rgba(0,0,0,.12); border-radius:1rem; overflow:hidden; background:#fff;
    }
    .embed-card iframe{width:100%; height:100%; border:0;}
    .embed-card blockquote{margin:0;}

    /* Cart-pohja */
    .cart-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; z-index:60;}
    .cart-panel{position:fixed; right:0; top:0; bottom:0; width:min(420px,92vw); background:#fff; box-shadow:-8px 0 24px rgba(0,0,0,.15); transform:translateX(100%); transition:transform .28s ease; z-index:61;}
    .cart-open .cart-backdrop{display:block;}
    .cart-open .cart-panel{transform:translateX(0);}
  </style>
</head>
<body>

  <!-- ===== Kiinteä revontulitausta ===== -->
  <canvas id="aurora-canvas"></canvas>

  <!-- ===== Header ===== -->
  <header class="fixed top-0 left-0 right-0 z-50 text-white">
    <div id="header-bg" class="absolute inset-0 bg-stone-900/40 backdrop-blur-[2px] border-b border-stone-200/0"></div>
    <div class="relative mx-auto max-w-6xl px-4 py-3 grid grid-cols-3 items-center">
      <a href="#etusivu" class="flex items-center gap-3">
        <!-- UUSI PYÖREÄ LOGO -->
        <img src="assets/logo-round.svg" alt="RUMAT.STUDIO" class="h-9 w-9 rounded-full ring-1 ring-stone-300/60 bg-white/90 object-cover" loading="eager" decoding="async">
        <span class="hidden sm:inline text-sm uppercase tracking-wide font-semibold">RUMAT.STUDIO</span>
      </a>

      <nav class="justify-self-center flex items-center gap-6 text-[13px] uppercase tracking-widest">
        <a href="#etusivu"   class="font-semibold hover:underline underline-offset-4">Etusivu</a>
        <a href="#tuotteet"  class="font-semibold hover:underline underline-offset-4">Tuotteet</a>
        <a href="#tarina"    class="font-semibold hover:underline underline-offset-4">Tarina</a>
        <a href="#yhteys"    class="font-semibold hover:underline underline-offset-4">Yhteystiedot</a>
      </nav>

      <div class="justify-self-end">
        <button id="open-cart" class="px-3 py-1.5 rounded-full bg-white/90 text-stone-900 text-sm font-semibold shadow-soft border border-white/60">Ostoskori <span id="cart-count" class="ml-1">0</span></button>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section id="etusivu" class="relative h-[100svh] grid place-items-center text-stone-50 px-4">
    <div id="hero-text" class="relative z-10 text-center">
      <h1 class="uppercase font-semibold tracking-[0.22em]
                 text-[clamp(24px,5.4vw,68px)]
                 drop-shadow-[0_2px_16px_rgba(0,0,0,0.40)]">
        LIIAN RUMAT OLLAKSEEN TOTTA
      </h1>
      <div class="mt-8 flex justify-center">
        <div class="h-24 w-24 sm:h-28 sm:w-28 grid place-items-center
                    rounded-full bg-white/92 ring-1 ring-white/70 shadow-soft">
          <!-- UUSI PYÖREÄ LOGO HERO-YMPYRÄÄN -->
          <img src="assets/logo-round.svg" alt="RUMAT.STUDIO" class="h-14 w-14 rounded-full object-cover">
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Esittelypalkki ===== -->
  <section class="py-12 bg-stone-50/90">
    <div class="mx-auto max-w-3xl px-6 text-center">
      <p class="text-xl sm:text-2xl">
        <strong>Luonnosta syntynyt. Reissuissa testattu.</strong> Suunnittelemani neuleet ja asusteet kulkevat mukana poluilla ja
        kaupungissa – jotta sinulla on päälläsi jotain, joka istuu, hengittää ja kestää jokaisella askeleella.
      </p>
    </div>
  </section>

  <!-- ===== TUOTTEET ===== -->
  <section id="tuotteet" class="py-14 bg-white">
    <div class="mx-auto max-w-6xl px-4">
      <div class="flex items-center justify-between mb-6">
        <h2 class="serif text-3xl">Tuotteet</h2>
        <div class="text-xs text-stone-500">Hinnat sis. ALV • Palautus 14 vrk</div>
      </div>

      <!-- Tuote 1: Laukku -->
      <div class="mb-12">
        <div class="grid md:grid-cols-2 gap-4 md:gap-6">
          <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
            <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover" alt="Laukku">
          </div>
          <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
            <img src="https://images.unsplash.com/photo-1511389026070-a14ae610a1be?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover" alt="Laukku">
          </div>
        </div>
        <div class="mt-6 text-center">
          <h3 class="serif text-2xl">Laukku</h3>
          <p class="mt-1 text-stone-700">
            Täysin kierrätysmateriaaleista valmistettu sling-laukku. Ulkomitat: 28 × 16 × 7 cm. Valmistettu Suomessa.
          </p>
          <div class="mt-2 font-semibold text-lg">€149,00</div>
          <button class="btn btn-dark mt-3" data-add="laukku" data-price="149">Lisää ostoskoriin</button>
        </div>
      </div>

      <!-- Tuote 2: RUMAT Pipo -->
      <div>
        <div class="grid md:grid-cols-2 gap-4 md:gap-6">
          <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
            <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover" alt="Pipo">
          </div>
          <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
            <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover" alt="Pipo">
          </div>
        </div>
        <div class="mt-6 text-center">
          <h3 class="serif text-2xl">RUMAT Pipo</h3>
          <p class="mt-1 text-stone-700">Käsinneulottu mohair-sekoite. Korkeus n. 22 cm. Päänympärys 54–58 cm (joustava).</p>
          <div class="mt-2 font-semibold text-lg">€59,00</div>
          <button class="btn btn-dark mt-3" data-add="pipo" data-price="59">Lisää ostoskoriin</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== SOME (IG + TikTok) ===== -->
  <section class="py-14 bg-stone-50/90">
    <div class="mx-auto max-w-6xl px-4">
      <h2 class="serif text-3xl mb-6">Seuraa</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Instagram (virallinen embed) -->
        <div class="embed-card">
          <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DMXVRgGC1Bv/" data-instgrm-version="14" style="background:#fff;"></blockquote>
        </div>
        <!-- TikTok – embed v2 -->
        <div class="embed-card">
          <iframe
            src="https://www.tiktok.com/embed/v2/video/7525414518562753814?lang=fi-FI"
            allowfullscreen
            refererpolicy="strict-origin-when-cross-origin"
            sandbox="allow-scripts allow-same-origin allow-popups"
          ></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== TARINA ===== -->
  <section id="tarina" class="py-14 bg-white">
    <div class="mx-auto max-w-3xl px-4">
      <h2 class="serif text-3xl mb-3">Tarina</h2>
      <p>
        Pienet erät. Kestävä käyttö. Pohjoiset sävyt. Valmistamme pieniä eriä Suomessa ja EU:ssa, jotta vaate kestää vuosia ja tekijät näkyvät.
      </p>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer id="yhteys" class="pt-14 text-[color:var(--ivory)]" style="background:var(--footer-black)">
    <div class="mx-auto max-w-6xl px-4 grid sm:grid-cols-3 gap-8">
      <div>
        <div class="uppercase tracking-wide">RUMAT.STUDIO</div>
        <div class="text-sm mt-1 text-white/70">
          Luonnosta syntynyt. Reissuissa testattu.
        </div>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Yhteys</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li><a href="mailto:hello@rumat.fi" class="hover:underline">hello@rumat.fi</a></li>
          <li><a href="https://instagram.com/rumat.studio" target="_blank" rel="noreferrer" class="hover:underline">Instagram</a></li>
          <li><a href="https://www.tiktok.com/@rumat.studio" target="_blank" rel="noreferrer" class="hover:underline">TikTok</a></li>
          <li>Rovaniemi — Helsinki</li>
        </ul>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Tilaus & toimitus</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li>Toimitus valitaan ostoskorissa</li>
          <li>Nouto (sovitusti) — 0 €</li>
          <li>Posti — 6,90 €</li>
        </ul>
      </div>
    </div>
    <div class="py-8 text-center text-xs text-white/65">
      © <span id="year"></span> RUMAT.STUDIO
    </div>
  </footer>

  <!-- ===== OSTOSKORI ===== -->
  <div id="cart-backdrop" class="cart-backdrop"></div>
  <aside id="cart-panel" class="cart-panel">
    <div class="p-4 border-b flex items-center justify-between">
      <div class="font-semibold">Ostoskori</div>
      <button id="close-cart" class="text-stone-600 hover:underline">Sulje</button>
    </div>
    <div id="cart-items" class="p-4 space-y-3 text-sm"></div>
    <div class="p-4 border-t text-sm">
      <div class="mb-2 font-medium">Toimitus</div>
      <label class="flex items-center gap-2 mb-1">
        <input type="radio" name="ship" value="0" checked> Nouto (0 €)
      </label>
      <label class="flex items-center gap-2">
        <input type="radio" name="ship" value="6.90"> Posti (6,90 €)
      </label>

      <div class="mt-4 flex items-center justify-between">
        <div>Välisumma</div><div id="sub">0,00 €</div>
      </div>
      <div class="flex items-center justify-between">
        <div>Toimitus</div><div id="ship">0,00 €</div>
      </div>
      <div class="mt-2 pt-2 border-t flex items-center justify-between text-base font-semibold">
        <div>Yhteensä</div><div id="total">0,00 €</div>
      </div>

      <div class="mt-4 flex gap-2">
        <button id="clear-cart" class="btn">Tyhjennä</button>
        <button id="checkout" class="btn btn-olive">Jatka kassalle</button>
      </div>
      <p class="mt-2 text-xs text-stone-500">Demo: lisäämme oikean kassaratkaisun, kun haluat.</p>
    </div>
  </aside>

  <!-- IG embed skripti -->
  <script async src="https://www.instagram.com/embed.js"></script>

  <script>
    // ===== Headerin tausta & hero-tekstin pehmeä nousu
    const headerBg = document.getElementById('header-bg');
    const heroText = document.getElementById('hero-text');
    let lastY = -1;
    function onScroll(){
      const y = window.scrollY || 0;
      if (y === lastY) return; lastY = y;
      const p = Math.min(1, Math.max(0, y / 120));
      headerBg.style.backgroundColor = `rgba(12,16,15,${0.40 + 0.35*p})`;
      headerBg.style.borderColor = `rgba(214,211,209,${p})`;
      headerBg.style.borderBottomWidth = p ? '1px' : '0px';
      const vh = window.innerHeight || 1;
      heroText.style.transform = `translateY(${-18 * Math.min(1, y/(vh*0.9))}vh)`;
    }
    window.addEventListener('scroll', onScroll, {passive:true}); onScroll();
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Yksinkertainen ostoskori (klienttipuoli)
    const cart = [];
    const fmt = n => new Intl.NumberFormat('fi-FI',{style:'currency',currency:'EUR'}).format(n);
    const el = id => document.getElementById(id);

    function renderCart(){
      const list = el('cart-items'); list.innerHTML = '';
      let sub = 0;
      cart.forEach((it,idx)=>{
        sub += it.price*it.qty;
        const row = document.createElement('div');
        row.className = 'flex items-center justify-between border rounded-lg p-2';
        row.innerHTML = `
          <div>
            <div class="font-medium">${it.name}</div>
            <div class="text-stone-500">€${it.price.toFixed(2)} × 
              <button class="px-2" data-dec="${idx}">−</button>
              <span class="inline-block min-w-[1.5rem] text-center">${it.qty}</span>
              <button class="px-2" data-inc="${idx}">+</button>
            </div>
          </div>
          <div class="font-semibold">${fmt(it.price*it.qty)}</div>
        `;
        list.appendChild(row);
      });
      el('sub').textContent = fmt(sub);
      const shipVal = Number(document.querySelector('input[name="ship"]:checked')?.value || 0);
      el('ship').textContent = fmt(cart.length ? shipVal : 0);
      el('total').textContent = fmt(cart.length ? (sub + shipVal) : 0);
      document.getElementById('cart-count').textContent = cart.reduce((a,b)=>a+b.qty,0);

      // qty-napit
      list.querySelectorAll('[data-inc]').forEach(b=>b.onclick = ()=>{ cart[+b.dataset.inc].qty++; renderCart(); });
      list.querySelectorAll('[data-dec]').forEach(b=>b.onclick = ()=>{
        const i = +b.dataset.dec; cart[i].qty--; if(cart[i].qty<=0) cart.splice(i,1); renderCart();
      });
    }

    document.querySelectorAll('[data-add]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const name = btn.dataset.add === 'laukku' ? 'Laukku' : 'RUMAT Pipo';
        const price = Number(btn.dataset.price||0);
        const found = cart.find(i=>i.name===name&&i.price===price);
        if(found) found.qty++; else cart.push({name,price,qty:1});
        document.body.classList.add('cart-open'); renderCart();
      });
    });

    document.querySelectorAll('input[name="ship"]').forEach(r=>r.onchange=renderCart);
    el('clear-cart').onclick = ()=>{ cart.splice(0,cart.length); renderCart(); };
    el('checkout').onclick = ()=>{ alert('Demo-kassa: viimeistelemme maksutavan kun haluat.'); };

    const openCart = ()=>{ document.body.classList.add('cart-open'); renderCart(); }
    const closeCart = ()=>{ document.body.classList.remove('cart-open'); }
    el('open-cart').onclick = openCart;
    el('close-cart').onclick = closeCart;
    el('cart-backdrop').onclick = closeCart;

    // ===== WebGL Revontulet – kiinteä, pehmeä
    (function(){
      const SETTINGS = {
        PAL_COL1:[0.02,0.70,0.95],
        PAL_COL2:[0.00,1.00,0.60],
        BRIGHTNESS:1.00,
        CURTAIN_Y:0.58,
        HEIGHT:0.55,
        SPEED:0.18,
        STRIPE_STRENGTH:0.22,
        STAR_DENS:0.00010
      };
      const c = document.getElementById('aurora-canvas');
      const gl = c.getContext('webgl', {antialias:false, depth:false, stencil:false, premultipliedAlpha:true, alpha:true});
      if(!gl){ console.warn('WebGL ei saatavilla'); return; }

      const vs = `
        attribute vec2 p; varying vec2 v;
        void main(){ v = p*0.5+0.5; gl_Position=vec4(p,0.0,1.0); }
      `;
      const fs = `
        precision highp float;
        varying vec2 v;
        uniform vec2 res;
        uniform float t;
        uniform vec3 c1; uniform vec3 c2;
        uniform float bright; uniform float cy; uniform float h; uniform float sp; uniform float stripe; uniform float stars;

        float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7)))*43758.5453123); }
        float noise(vec2 p){
          vec2 i=floor(p), f=fract(p);
          float a=hash(i), b=hash(i+vec2(1.,0.)), c=hash(i+vec2(0.,1.)), d=hash(i+vec2(1.,1.));
          vec2 u=f*f*(3.-2.*f);
          return mix(a,b,u.x) + (c-a)*u.y*(1.-u.x) + (d-b)*u.x*u.y;
        }
        float fbm(vec2 p){
          float s=0., a=0.5;
          for(int i=0;i<5;i++){ s+=a*noise(p); p*=2.02; a*=0.5; }
          return s;
        }

        void main(){
          vec2 uv = v;
          float aspect = res.x/res.y;
          vec2 p = vec2(uv.x*aspect, uv.y);

          float base = fbm(vec2(p.x*1.6, p.y*1.2 + t*sp));
          float wave = fbm(vec2(p.x*0.6 + t*0.06, p.y*0.8 - t*0.04));
          float curtain = smoothstep(cy+h, cy, p.y + 0.15*wave - 0.10*base);

          float stripes = pow(0.5+0.5*sin((p.x*3.1415*3.0) + t*0.8), 3.0) * stripe;

          vec3 col = mix(c1, c2, clamp(0.2 + 0.8*base + stripes, 0.0, 1.0));
          col *= (0.6 + 0.4*curtain);
          col *= bright;

          float d = distance(uv, vec2(0.5));
          col *= 0.6 + 0.4*smoothstep(0.95, 0.2, d);

          float st = step(1.0 - stars, fract(sin(dot(uv*res.xy + t*10.0, vec2(12.9898,78.233))) * 43758.5453));
          col += st * 0.08;

          gl_FragColor = vec4(col, 1.0);
        }
      `;

      function compile(src, type){
        const sh = gl.createShader(type); gl.shaderSource(sh, src); gl.compileShader(sh);
        if(!gl.getShaderParameter(sh, gl.COMPILE_STATUS)) throw gl.getShaderInfoLog(sh);
        return sh;
      }
      const pr = gl.createProgram();
      gl.attachShader(pr, compile(vs, gl.VERTEX_SHADER));
      gl.attachShader(pr, compile(fs, gl.FRAGMENT_SHADER));
      gl.linkProgram(pr);
      if(!gl.getProgramParameter(pr, gl.LINK_STATUS)) throw gl.getProgramInfoLog(pr);
      gl.useProgram(pr);

      const buf = gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, buf);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1, 1,-1, -1,1, 1,1]), gl.STATIC_DRAW);
      const loc = gl.getAttribLocation(pr,'p'); gl.enableVertexAttribArray(loc);
      gl.vertexAttribPointer(loc, 2, gl.FLOAT, false, 0, 0);

      const uRes = gl.getUniformLocation(pr,'res');
      const uT = gl.getUniformLocation(pr,'t');
      const uC1 = gl.getUniformLocation(pr,'c1');
      const uC2 = gl.getUniformLocation(pr,'c2');
      const uB = gl.getUniformLocation(pr,'bright');
      const uCy = gl.getUniformLocation(pr,'cy');
      const uH = gl.getUniformLocation(pr,'h');
      const uSp = gl.getUniformLocation(pr,'sp');
      const uStripe = gl.getUniformLocation(pr,'stripe');
      const uStars = gl.getUniformLocation(pr,'stars');

      function resize(){
        const dpr = Math.min(window.devicePixelRatio||1, 2);
        const w = Math.floor(c.clientWidth * dpr);
        const h = Math.floor(c.clientHeight * dpr);
        if(c.width!==w || c.height!==h){ c.width = w; c.height = h; gl.viewport(0,0,w,h); }
        gl.uniform2f(uRes, c.width, c.height);
      }
      window.addEventListener('resize', resize, {passive:true});
      resize();

      gl.uniform3fv(uC1, SETTINGS.PAL_COL1);
      gl.uniform3fv(uC2, SETTINGS.PAL_COL2);
      gl.uniform1f(uB, SETTINGS.BRIGHTNESS);
      gl.uniform1f(uCy, SETTINGS.CURTAIN_Y);
      gl.uniform1f(uH, SETTINGS.HEIGHT);
      gl.uniform1f(uSp, SETTINGS.SPEED);
      gl.uniform1f(uStripe, SETTINGS.STRIPE_STRENGTH);
      gl.uniform1f(uStars, SETTINGS.STAR_DENS);

      let start = performance.now();
      (function frame(){
        const t = (performance.now()-start)/1000;
        gl.uniform1f(uT, t);
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
        requestAnimationFrame(frame);
      })();
    })();
  </script>
</body>
</html>
