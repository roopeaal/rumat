<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RUMAT.STUDIO</title>
  <meta name="description" content="Liian RUMAT ollakseen totta – käsintehtyjä tekstiilejä ja asusteita Pohjolasta."/>

  <!-- Open Graph / Twitter (korvaa og.jpg omaan polkuun) -->
  <meta property="og:title" content="RUMAT.STUDIO">
  <meta property="og:description" content="Liian RUMAT ollakseen totta.">
  <meta property="og:image" content="https://roopeaal.github.io/rumat/og.jpg">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Fontit + Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Brändivärit (kuvastasi) */
    :root{
      --brand-deep:  #345563; /* syvä sinivihreä (header) */
      --brand-ink:   #202020; /* melkein musta teksti */
      --brand-olive: #A1A266; /* oliivi accent */
      --brand-slate: #789FAB; /* siniharmaa */
      --brand-ivory: #F6F6F4; /* lämmin valkoinen */
      --brand-mist:  #DEEEEE; /* tuote-esittelypalkkien tausta */
      --footer-black:#0B0F0E; /* aiempi footer-musta */
      --images-strip:#F6F6F4; /* kuvapalkkien tausta */
    }
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
      background:#F8F7F5;
      color:var(--brand-ink);
    }
    .serif{font-family:"Libre Baskerville",serif}
    .hero-fixed{position:fixed;inset:0;z-index:-1}
    .shadow-soft{box-shadow:0 6px 20px rgba(0,0,0,.12)}
    .btn{
      border-radius:9999px;padding:.6rem 1rem;border:1px solid rgb(214 211 209);
      transition:transform .06s ease, box-shadow .12s ease, background-color .15s;
    }
    .btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.12); }
    .btn-dark{ background:var(--brand-ink); color:#fff; border-color:#1b1b1b; }
    .btn-olive{ background:var(--brand-olive); color:#202020; border-color:#8f945a; }
    .chip{font-size:.78rem; padding:.25rem .5rem; border-radius:9999px; border:1px solid rgb(214 211 209); background:#fff;}
    .chip-olive{ border-color:var(--brand-olive); color:var(--brand-olive); }
    .rlogo{ transform: rotate(-90deg); }
    .linkish{ text-underline-offset:4px; }
  </style>
</head>

<body class="text-stone-900">
  <!-- ===== HERO-TAUSTA: pysyy paikallaan, kuva tulee IG/Unsplashista tai fallback ===== -->
  <div class="hero-fixed">
    <img id="hero-img"
      src="https://images.unsplash.com/photo-1564857170582-80855988d55e?auto=format&fit=crop&w=2400&q=80"
      alt="Lapin erämaa"
      class="w-full h-full object-cover"
      style="object-position:center 60%"
      onerror="this.onerror=null;this.src='https://placehold.co/2400x1600?text=Taustakuva'">
    <div class="absolute inset-0 bg-gradient-to-b from-black/5 via-black/12 to-black/22"></div>
  </div>

  <!-- Yläpalkki (brand-deep) joka liikkuu heron mukana; tekstit jäävät -->
  <header class="fixed top-0 left-0 right-0 z-50">
    <div class="absolute inset-0" style="background:var(--brand-deep); opacity:.93;"></div>
    <div class="relative mx-auto max-w-6xl px-4 py-3 grid grid-cols-3 items-center text-white">
      <a href="#etusivu" class="flex items-center gap-3">
        <div class="h-9 w-9 grid place-items-center rounded-xl ring-1 ring-white/50 bg-white/90">
          <span class="serif text-2xl font-black text-stone-900 rlogo">R</span>
        </div>
        <span class="hidden sm:inline text-sm uppercase tracking-wide font-semibold">RUMAT.STUDIO</span>
      </a>
      <nav class="justify-self-center flex items-center gap-6 text-[13px] uppercase tracking-widest">
        <a href="#etusivu"  class="font-semibold hover:underline linkish">Etusivu</a>
        <a href="#tuotteet" class="font-semibold hover:underline linkish">Tuotteet</a>
        <a href="#tarina"   class="font-semibold hover:underline linkish">Tarina</a>
        <a href="#yhteys"   class="font-semibold hover:underline linkish">Yhteystiedot</a>
      </nav>
    </div>
  </header>

  <!-- ===== ETUSIVU ===== -->
  <section id="etusivu" class="h-screen grid place-items-center text-stone-50 px-4">
    <div id="hero-text" class="text-center transition-transform">
      <h1 class="uppercase font-semibold tracking-[0.30em]
                 text-4xl sm:text-6xl md:text-7xl lg:text-8xl
                 drop-shadow-[0_2px_18px_rgba(0,0,0,0.45)]">
        LIIAN RUMAT OLLAKSEEN TOTTA
      </h1>
      <div class="mt-8 flex justify-center">
        <div class="h-20 w-20 sm:h-24 sm:w-24 grid place-items-center
                    rounded-full bg-white/90 ring-1 ring-white/70 shadow-soft">
          <span class="serif text-4xl sm:text-5xl font-black text-stone-900 rlogo">R</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Esittelypalkki (#DEEEEE) ===== -->
  <section class="py-12" style="background:var(--brand-mist)">
    <div class="mx-auto max-w-3xl px-6 text-center">
      <p class="text-xl sm:text-2xl">
        Pienet erät. Kestävä käyttö. Pohjoiset sävyt. Valmistamme pieniä eriä Suomessa ja EU:ssa,
        jotta vaate kestää vuosia ja tekijät näkyvät.
      </p>
    </div>
  </section>

  <!-- ===== TUOTTEET ===== -->
  <section id="tuotteet" class="py-14" style="background:#fff">
    <div class="mx-auto max-w-6xl px-4">
      <div class="flex items-center justify-between mb-2">
        <h2 class="serif text-3xl">Tuotteet</h2>
        <div class="text-xs text-stone-500">Hinnat sis. ALV • Palautus 14 vrk</div>
      </div>

      <!-- Tuote 1: LAUKKU – kuvapalkki (tausta #F6F6F4) -->
      <div class="mb-12">
        <div class="relative rounded-xl p-3 md:p-4" style="background:var(--images-strip)">
          <div class="grid md:grid-cols-2 gap-4 md:gap-6">
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
              <img id="p1a" class="w-full h-full object-cover" alt="Laukku 1" loading="lazy" decoding="async">
            </div>
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
              <img id="p1b" class="w-full h-full object-cover" alt="Laukku 2" loading="lazy" decoding="async">
            </div>
          </div>
          <button id="prev1" class="absolute left-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Edelliset kuvat">◀</button>
          <button id="next1" class="absolute right-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Seuraavat kuvat">▶</button>
        </div>

        <!-- Esittelypalkki (täysleveä #DEEEEE) -->
        <div class="mt-6 text-center py-10" style="background:var(--brand-mist)">
          <h3 class="serif text-2xl">Laukku</h3>
          <p class="mt-1 text-stone-700 max-w-3xl mx-auto">
            Täysin kierrätysmateriaaleista valmistettu sling-laukku. Kierrätetty purjekangas/tekstiili,
            hihna käytetystä turvavyöstä, metalliosat uudelleenkäytettyä varastoa.
            Ulkomitat: 28 × 16 × 7 cm. Valmistettu Suomessa.
          </p>
          <div class="mt-2 font-semibold">€149,00</div>

          <div class="mt-4 flex items-center justify-center gap-2">
            <span class="chip">Nouto (sovitusti) — 0 €</span>
            <span class="chip chip-olive">Posti — 6,90 €</span>
          </div>

          <div class="mt-3 flex items-center justify-center gap-3 flex-wrap">
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
              <input type="hidden" name="cmd" value="_xclick">
              <input type="hidden" id="pp1a" name="business" value="kauppa@esimerkki.fi">
              <input type="hidden" name="item_name" value="Laukku (nouto)">
              <input type="hidden" name="amount" value="149.00">
              <input type="hidden" name="currency_code" value="EUR">
              <input type="hidden" name="shipping" value="0.00">
              <input type="hidden" name="no_shipping" value="1">
              <input type="submit" value="Osta – Nouto 0 €" class="btn btn-dark cursor-pointer">
            </form>
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
              <input type="hidden" name="cmd" value="_xclick">
              <input type="hidden" id="pp1b" name="business" value="kauppa@esimerkki.fi">
              <input type="hidden" name="item_name" value="Laukku (posti)">
              <input type="hidden" name="amount" value="149.00">
              <input type="hidden" name="currency_code" value="EUR">
              <input type="hidden" name="shipping" value="6.90">
              <input type="hidden" name="no_shipping" value="2">
              <input type="submit" value="Osta – Posti 6,90 €" class="btn btn-olive cursor-pointer">
            </form>
          </div>
        </div>
      </div>

      <!-- Tuote 2: PIPO -->
      <div class="mb-6">
        <div class="relative rounded-xl p-3 md:p-4" style="background:var(--images-strip)">
          <div class="grid md:grid-cols-2 gap-4 md:gap-6">
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
              <img id="p2a" class="w-full h-full object-cover" alt="RUMAT Pipo 1" loading="lazy" decoding="async">
            </div>
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200">
              <img id="p2b" class="w-full h-full object-cover" alt="RUMAT Pipo 2" loading="lazy" decoding="async">
            </div>
          </div>
          <button id="prev2" class="absolute left-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Edelliset kuvat">◀</button>
          <button id="next2" class="absolute right-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Seuraavat kuvat">▶</button>
        </div>

        <div class="mt-6 text-center py-10" style="background:var(--brand-mist)">
          <h3 class="serif text-2xl">RUMAT Pipo</h3>
          <p class="mt-1 text-stone-700 max-w-3xl mx-auto">Käsinneulottu mohair-sekoite. Korkeus n. 22 cm. Päänympärys 54–58 cm (joustava).</p>
          <div class="mt-2 font-semibold">€59,00</div>

          <div class="mt-4 flex items-center justify-center gap-2">
            <span class="chip">Nouto (sovitusti) — 0 €</span>
            <span class="chip chip-olive">Posti — 6,90 €</span>
          </div>

          <div class="mt-3 flex items-center justify-center gap-3 flex-wrap">
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
              <input type="hidden" name="cmd" value="_xclick">
              <input type="hidden" id="pp2a" name="business" value="kauppa@esimerkki.fi">
              <input type="hidden" name="item_name" value="RUMAT Pipo (nouto)">
              <input type="hidden" name="amount" value="59.00">
              <input type="hidden" name="currency_code" value="EUR">
              <input type="hidden" name="shipping" value="0.00">
              <input type="hidden" name="no_shipping" value="1">
              <input type="submit" value="Osta – Nouto 0 €" class="btn btn-dark cursor-pointer">
            </form>
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
              <input type="hidden" name="cmd" value="_xclick">
              <input type="hidden" id="pp2b" name="business" value="kauppa@esimerkki.fi">
              <input type="hidden" name="item_name" value="RUMAT Pipo (posti)">
              <input type="hidden" name="amount" value="59.00">
              <input type="hidden" name="currency_code" value="EUR">
              <input type="hidden" name="shipping" value="6.90">
              <input type="hidden" name="no_shipping" value="2">
              <input type="submit" value="Osta – Posti 6,90 €" class="btn btn-olive cursor-pointer">
            </form>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- ===== TARINA ===== -->
  <section id="tarina" class="py-14 bg-stone-50/90">
    <div class="mx-auto max-w-3xl px-6">
      <h2 class="serif text-3xl mb-4">Tarina</h2>
      <p>
        Kirjoita tähän yrityksen matkaa: miksi perustit, mitä opit, minne olet menossa.
        Tekstiä voi muuttaa milloin vain adminin kautta tai päivittämällä JSON-sisällön.
      </p>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer id="yhteys" class="pt-14 text-[color:var(--brand-ivory)]" style="background:var(--footer-black)">
    <div class="mx-auto max-w-6xl px-4 grid sm:grid-cols-3 gap-8">
      <div>
        <div class="uppercase tracking-wide">RUMAT.STUDIO</div>
        <div class="text-sm mt-1 text-white/70">
          Helsinki — Contemporary textiles, built to last.
        </div>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Yhteys</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li><a id="mail" href="mailto:hello@rumat.fi" class="hover:underline">hello@rumat.fi</a></li>
          <li><a id="ig" href="https://instagram.com/rumat.studio" target="_blank" rel="noreferrer" class="hover:underline">Instagram</a></li>
          <li><a id="tt" href="https://tiktok.com/@rumat.studio" target="_blank" rel="noreferrer" class="hover:underline">TikTok</a></li>
          <li>Rovaniemi — Helsinki</li>
        </ul>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Tilaukset</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li>Nouto (sovitusti) — 0 €</li>
          <li>Posti — 6,90 € (lisätään kassalla)</li>
          <li>Hinnat sisältävät ALV:n • Palautus 14 vrk</li>
        </ul>
      </div>
    </div>
    <div class="py-8 text-center text-xs text-white/65">
      © <span id="year"></span> RUMAT.STUDIO
    </div>
  </footer>

  <script>
    // Täytä vuosi
    document.getElementById('year').textContent = new Date().getFullYear();

    // Hero-tekstin pehmeä nosto (ei pomppua)
    const heroText = document.getElementById('hero-text');
    let lastY = -1;
    const onScroll = () => {
      const y = window.scrollY || 0;
      if (y === lastY) return; lastY = y;
      const vh = window.innerHeight || 1;
      const t = -22 * Math.min(1, y / (vh * 0.9));
      heroText.style.transform = `translateY(${t}vh)`;
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // Aseta kuvat turvallisesti (fallback)
    const FALLBACK = "https://placehold.co/1400x1750?text=Kuva";
    function setWithFallback(imgEl, url){
      if(!imgEl) return;
      imgEl.onerror = ()=>{ imgEl.onerror=null; imgEl.src = FALLBACK; };
      imgEl.src = url;
    }

    // Tuotekuvien karusellit
    const slingImgs = [
      "https://placehold.co/1400x1750?text=Laukku+1",
      "https://placehold.co/1400x1750?text=Laukku+2",
      "https://placehold.co/1400x1750?text=Laukku+3"
    ];
    const pipoImgs = [
      "https://placehold.co/1400x1750?text=Pipo+1",
      "https://placehold.co/1400x1750?text=Pipo+2",
      "https://placehold.co/1400x1750?text=Pipo+3"
    ];
    let i1=0,i2=0;
    const setPair=(arr,aId,bId,i)=>{
      const a=document.getElementById(aId), b=document.getElementById(bId);
      if(!a||!b) return; const n=arr.length;
      setWithFallback(a, arr[(i%n+n)%n]);
      setWithFallback(b, arr[((i+1)%n+n)%n]);
    };
    setPair(slingImgs,"p1a","p1b",i1);
    setPair(pipoImgs,"p2a","p2b",i2);
    document.getElementById('next1').onclick=()=>{i1=(i1+1)%slingImgs.length;setPair(slingImgs,"p1a","p1b",i1);};
    document.getElementById('prev1').onclick=()=>{i1=(i1-1+slingImgs.length)%slingImgs.length;setPair(slingImgs,"p1a","p1b",i1);};
    document.getElementById('next2').onclick=()=>{i2=(i2+1)%pipoImgs.length;setPair(pipoImgs,"p2a","p2b",i2);};
    document.getElementById('prev2').onclick=()=>{i2=(i2-1+pipoImgs.length)%pipoImgs.length;setPair(pipoImgs,"p2a","p2b",i2);};

    // ---- Dynaaminen sisältö backendistä (tai ./content.json fallback) ----
    async function loadContent() {
      const sources = ["/api/content","./content.json"];
      for(const u of sources){
        try{
          const r = await fetch(u, {credentials:"include"});
          if(!r.ok) continue;
          const d = await r.json();

          // Hero-otsikko & kuva (IG-kuvaurl käy, EI <iframe>)
          if(d?.hero?.headline){
            document.querySelector('#etusivu h1').textContent = d.hero.headline;
          }
          if(d?.hero?.image){
            const img = document.getElementById('hero-img');
            img.src = d.hero.image; // pitää olla suora kuvalinkki (jpg/png)
          }

          // PayPal business
          if(d?.paypalBusiness){
            ["pp1a","pp1b","pp2a","pp2b"].forEach(id=>{
              const el=document.getElementById(id); if(el) el.value=d.paypalBusiness;
            });
          }

          // Linkit
          if(d?.contact?.instagram) document.getElementById('ig').href = d.contact.instagram;
          if(d?.contact?.tiktok)    document.getElementById('tt').href = d.contact.tiktok;
          if(d?.contact?.email){
            const m = document.getElementById('mail');
            m.href = "mailto:"+d.contact.email; m.textContent = d.contact.email;
          }

          // Tuotekuvat jos annettu
          const get=(id)=>d?.products?.find(p=>p.id===id);
          const lau=get('laukku'); const pip=get('pipo');
          if(lau?.images?.length>=2){
            slingImgs.splice(0,slingImgs.length,...lau.images);
            i1=0; setPair(slingImgs,"p1a","p1b",i1);
          }
          if(pip?.images?.length>=2){
            pipoImgs.splice(0,pipoImgs.length,...pip.images);
            i2=0; setPair(pipoImgs,"p2a","p2b",i2);
          }
          return;
        }catch(e){/* jatka seuraavaan lähteeseen */}
      }
    }
    loadContent();
  </script>
</body>
</html>

