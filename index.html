<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RUMAT.STUDIO</title>
  <meta name="description" content="Helsinki — Contemporary textiles, built to last."/>

  <!-- Fontit + Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Inter:wght@400;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      /* Brändi */
      --brand-deep:  #0E2016; /* tumma vihreä header-tausta */
      --brand-ink:   #202020;
      --brand-ivory: #F6F6F4;
      --gallery:     #F6F6F4; /* kuvapalkkien tausta */
      --intro:       #DEEEEE; /* esittelypalkkien tausta */
    }
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
      background:var(--brand-ivory);
      color:#1f2937;
    }
    .serif{font-family:"Libre Baskerville",serif}
    .shadow-soft{box-shadow:0 6px 20px rgba(0,0,0,.12)}
    .btn{border-radius:9999px;padding:.65rem 1.05rem;border:1px solid rgb(214 211 209);
         transition:transform .06s ease, box-shadow .12s ease, background-color .15s;}
    .btn:hover{ transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.12); }
    .btn-dark{ background:#0b0f0e; color:#f8fafb; border-color:#0b0f0e; }
    .btn-olive{ background:#A1A266; color:#202020; border-color:#8f945a; }
    .chip{font-size:.78rem; padding:.28rem .6rem; border-radius:9999px; border:1px solid rgb(214 211 209); background:#fff; color:#374151;}
    .chip-olive{ border-color:#A1A266; color:#A1A266; }

    /* HERO + revontulet */
    .hero-wrap{position:fixed; inset:0; z-index:-1; overflow:hidden;}
    .hero-base{
      position:absolute; inset:0;
      background: radial-gradient(1200px 600px at 50% -200px, rgba(0,255,255,.35), rgba(0,0,0,0) 70%),
                  linear-gradient(#0a2d47 0%, #0d2740 40%, #0e2337 100%);
    }
    canvas#aurora{ position:absolute; inset:0; display:block; width:100%; height:100%; }

    /* Header skrolli */
    #header-bg{ background:rgba(14,32,22,0.92); }

    /* pienet hienosäädöt */
    .logo-R{transform:rotate(90deg)}
  </style>
</head>

<body class="text-stone-900">
  <!-- Pysyvä tausta + aurora -->
  <div class="hero-wrap">
    <div class="hero-base"></div>
    <canvas id="aurora"></canvas>
  </div>

  <!-- Yläreunan väri-”kynnys” hero-kuvan mukana (tekee siistin liitoksen) -->
  <div class="h-14 md:h-16 w-full" style="background:var(--brand-deep); opacity:.92;"></div>

  <!-- Header (tekstit + logo jäävät, tausta nousee ylös) -->
  <header class="fixed top-0 left-0 right-0 z-50 text-white">
    <div id="header-bg" class="absolute inset-0 border-b border-black/10"></div>
    <div class="relative mx-auto max-w-6xl px-4 py-3 grid grid-cols-3 items-center">
      <a href="#etusivu" class="flex items-center gap-3">
        <div class="h-10 w-10 grid place-items-center rounded-xl border border-white/55 bg-white/92">
          <span class="font-black text-[22px] leading-none text-[color:var(--brand-deep)] logo-R select-none">R</span>
        </div>
        <span class="hidden sm:inline text-sm uppercase tracking-widest font-semibold drop-shadow">RUMAT.STUDIO</span>
      </a>

      <nav class="justify-self-center flex items-center gap-6 text-[13px] uppercase tracking-widest">
        <a href="#etusivu"   class="font-semibold hover:underline underline-offset-4">Etusivu</a>
        <a href="#tuotteet"  class="font-semibold hover:underline underline-offset-4">Tuotteet</a>
        <a href="#tarina"    class="font-semibold hover:underline underline-offset-4">Tarina</a>
        <a href="#yhteys"    class="font-semibold hover:underline underline-offset-4">Yhteystiedot</a>
      </nav>
      <div></div>
    </div>
  </header>

  <!-- HERO -->
  <section id="etusivu" class="h-[calc(100vh-56px)] md:h-[calc(100vh-64px)] grid place-items-center text-stone-50 px-4">
    <div id="hero-text" class="text-center transition-transform">
      <h1 class="uppercase font-semibold tracking-[0.28em] text-[clamp(22px,4.1vw,48px)]
                 drop-shadow-[0_2px_16px_rgba(0,0,0,0.40)]">
        LIIAN RUMAT OLLAKSEEN TOTTA
      </h1>
      <div class="mt-9 flex justify-center">
        <div class="h-28 w-28 sm:h-32 sm:w-32 grid place-items-center
                    rounded-full bg-white/92 ring-1 ring-white/70 shadow-soft">
          <span class="font-black text-6xl sm:text-7xl leading-none text-stone-900 logo-R select-none">R</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Intro-esittely -->
  <section class="py-12" style="background:var(--intro)">
    <div class="mx-auto max-w-3xl px-6 text-center">
      <p class="text-xl sm:text-2xl">
        Pienet erät. Kestävä käyttö. Pohjoiset sävyt. Valmistamme pieniä eriä Suomessa ja EU:ssa,
        jotta vaate kestää vuosia ja tekijät näkyvät.
      </p>
    </div>
  </section>

  <!-- ===================== TUOTTEET ===================== -->
  <section id="tuotteet" style="background:var(--gallery)">
    <div class="mx-auto max-w-6xl px-4 py-14">
      <div class="flex items-center justify-between mb-6">
        <h2 class="serif text-3xl">Tuotteet</h2>
        <div class="text-xs text-stone-500">Hinnat sis. ALV • Palautus 14 vrk</div>
      </div>

      <!-- Tuote 1 — Laukku -->
      <div class="mb-12">
        <div class="relative">
          <div class="grid md:grid-cols-2 gap-4 md:gap-6">
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200 bg-white">
              <img id="p1a" class="w-full h-full object-cover" alt="Laukku 1" loading="lazy" decoding="async">
            </div>
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200 bg-white">
              <img id="p1b" class="w-full h-full object-cover" alt="Laukku 2" loading="lazy" decoding="async">
            </div>
          </div>
          <button id="prev1" class="absolute left-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Edelliset kuvat">◀</button>
          <button id="next1" class="absolute right-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Seuraavat kuvat">▶</button>
        </div>

        <!-- Esittelypalkki (kokosivun levyinen, #DEEEEE) -->
        <div class="mt-6 py-8 text-center rounded-xl" style="background:var(--intro)">
          <h3 class="serif text-2xl">Laukku</h3>
          <p class="mt-1 text-stone-700">
            Täysin kierrätysmateriaaleista valmistettu sling-laukku. Kierrätetty purjekangas/tekstiili, hihna käytetystä turvavyöstä,
            metalliosat uudelleenkäytettyä varastoa. Ulkomitat: 28 × 16 × 7 cm. Valmistettu Suomessa.
          </p>
          <div class="mt-2 font-semibold">€149,00</div>
          <div class="mt-4 flex items-center justify-center gap-2">
            <span class="chip">Nouto (sovitusti) — 0 €</span>
            <span class="chip chip-olive">Posti — 6,90 €</span>
          </div>
        </div>
      </div>

      <!-- Tuote 2 — Pipo -->
      <div>
        <div class="relative">
          <div class="grid md:grid-cols-2 gap-4 md:gap-6">
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200 bg-white">
              <img id="p2a" class="w-full h-full object-cover" alt="Pipo 1" loading="lazy" decoding="async">
            </div>
            <div class="aspect-[4/5] overflow-hidden rounded-xl ring-1 ring-stone-200 bg-white">
              <img id="p2b" class="w-full h-full object-cover" alt="Pipo 2" loading="lazy" decoding="async">
            </div>
          </div>
          <button id="prev2" class="absolute left-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Edelliset kuvat">◀</button>
          <button id="next2" class="absolute right-2 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/90 backdrop-blur border border-stone-300 shadow-soft" aria-label="Seuraavat kuvat">▶</button>
        </div>

        <div class="mt-6 py-8 text-center rounded-xl" style="background:var(--intro)">
          <h3 class="serif text-2xl">RUMAT Pipo</h3>
          <p class="mt-1 text-stone-700">Käsinneulottu mohair-sekoite. Korkeus n. 22 cm. Päänympärys 54–58 cm (joustava).</p>
          <div class="mt-2 font-semibold">€59,00</div>
          <div class="mt-4 flex items-center justify-center gap-2">
            <span class="chip">Nouto (sovitusti) — 0 €</span>
            <span class="chip chip-olive">Posti — 6,90 €</span>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- TARINA -->
  <section id="tarina" class="py-14 bg-stone-50/90">
    <div class="mx-auto max-w-3xl px-6">
      <h2 class="serif text-3xl">Tarina</h2>
      <p>
        Kirjoita tähän yrityksen matkaa: miksi perustit, mitä opit, minne olet menossa.
        Tekstiä voi muuttaa milloin vain päivittämällä tämän tiedoston tai adminin kautta.
      </p>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="yhteys" class="pt-14 text-[color:var(--brand-ivory)]" style="background:#0B0F0E">
    <div class="mx-auto max-w-6xl px-4 grid sm:grid-cols-3 gap-8">
      <div>
        <div class="uppercase tracking-wide">RUMAT.STUDIO</div>
        <div class="text-sm mt-1 text-white/70">
          Helsinki — Contemporary textiles, built to last.
        </div>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Yhteys</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li><a href="mailto:hello@rumat.fi" class="hover:underline">hello@rumat.fi</a></li>
          <li><a href="https://instagram.com/rumat.studio" target="_blank" rel="noreferrer" class="hover:underline">Instagram</a></li>
          <li>Rovaniemi — Helsinki</li>
        </ul>
      </div>
      <div>
        <h5 class="text-sm text-white/70">Tilaukset</h5>
        <ul class="mt-2 space-y-2 text-sm">
          <li>Nouto (sovitusti) — 0 €</li>
          <li>Posti — 6,90 € (lisätään kassalla)</li>
          <li>Hinnat sisältävät ALV:n • Palautus 14 vrk</li>
        </ul>
      </div>
    </div>
    <div class="py-8 text-center text-xs text-white/65">
      © <span id="year"></span> RUMAT.STUDIO
    </div>
  </footer>

  <!-- ===== Skriptit ===== -->
  <script>
    // Header-efekti + hero-tekstin pehmeä siirtymä
    const headerBg = document.getElementById('header-bg');
    const heroText = document.getElementById('hero-text');
    let lastY = -1;
    const onScroll = () => {
      const y = window.scrollY || 0;
      if (y === lastY) return; lastY = y;
      const vh = window.innerHeight || 1;
      const t = -22 * Math.min(1, y / (vh * 0.9));
      heroText.style.transform = `translateY(${t}vh)`;
      // pieni tummennus headeriin rullatessa
      const p = Math.min(1, y/160);
      headerBg.style.backgroundColor = `rgba(14,32,22,${0.65 + 0.27*p})`;
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();
    document.getElementById('year').textContent = new Date().getFullYear();

    // Tuotekuvakarusellit (paikkamerkit + fallback)
    const slingImgs = [
      "https://placehold.co/1400x1750?text=Laukku+1",
      "https://placehold.co/1400x1750?text=Laukku+2",
      "https://placehold.co/1400x1750?text=Laukku+3"
    ];
    const pipoImgs = [
      "https://placehold.co/1400x1750?text=Pipo+1",
      "https://placehold.co/1400x1750?text=Pipo+2",
      "https://placehold.co/1400x1750?text=Pipo+3"
    ];
    const FALLBACK = "https://placehold.co/1400x1750?text=Kuva";
    function setWithFallback(imgEl, url){
      if(!imgEl) return;
      imgEl.onerror = ()=>{ imgEl.onerror=null; imgEl.src = FALLBACK; };
      imgEl.src = url;
    }
    let i1=0,i2=0;
    const setPair = (arr, aId, bId, i) => {
      const a=document.getElementById(aId), b=document.getElementById(bId);
      if (!a||!b) return;
      const n = arr.length;
      setWithFallback(a, arr[(i % n + n) % n]);
      setWithFallback(b, arr[((i+1) % n + n) % n]);
    };
    setPair(slingImgs,"p1a","p1b",i1);
    setPair(pipoImgs,"p2a","p2b",i2);
    document.getElementById('next1').addEventListener('click', ()=>{ i1=(i1+1)%slingImgs.length; setPair(slingImgs,"p1a","p1b",i1); });
    document.getElementById('prev1').addEventListener('click', ()=>{ i1=(i1-1+slingImgs.length)%slingImgs.length; setPair(slingImgs,"p1a","p1b",i1); });
    document.getElementById('next2').addEventListener('click', ()=>{ i2=(i2+1)%pipoImgs.length; setPair(pipoImgs,"p2a","p2b",i2); });
    document.getElementById('prev2').addEventListener('click', ()=>{ i2=(i2-1+pipoImgs.length)%pipoImgs.length; setPair(pipoImgs,"p2a","p2b",i2); });
  </script>

  <!-- ===== WebGL Revontuli (nostettu ylemmäs) ===== -->
  <script>
    (function(){
      const canvas = document.getElementById('aurora');
      const gl = canvas.getContext('webgl', { premultipliedAlpha:false, alpha:true, antialias:true });
      if(!gl){ console.warn('WebGL ei saatavilla'); return; }

      const vert = `
        attribute vec2 p; varying vec2 v;
        void main(){ v = p*0.5+0.5; gl_Position = vec4(p,0.0,1.0); }
      `;
      const frag = `
        precision highp float;
        varying vec2 v;
        uniform vec2  res;
        uniform float t;
        uniform float yOff;
        // noise
        float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7))) * 43758.5453); }
        float noise(vec2 p){
          vec2 i = floor(p), f = fract(p);
          float a = hash(i);
          float b = hash(i+vec2(1.,0.));
          float c = hash(i+vec2(0.,1.));
          float d = hash(i+vec2(1.,1.));
          vec2 u = f*f*(3.-2.*f);
          return mix(a,b,u.x)+ (c-a)*u.y*(1.-u.x)+ (d-b)*u.x*u.y;
        }
        float fbm(vec2 p){
          float s=0., a=.5;
          for(int i=0;i<5;i++){ s+=a*noise(p); p*=2.02; a*=.5; }
          return s;
        }
        void main(){
          vec2 uv = v;
          // world coords
          vec2 p = (uv*2. - 1.);
          p.x *= res.x/res.y;
          // verhojen pystysijainti
          float yBase = yOff; // 0..1 (pienempi = ylempänä)
          float curtain = smoothstep(yBase+0.02, yBase-0.15, uv.y);
          // pilarit
          float col = fbm(vec2(uv.x*2.0 + t*0.06, uv.y*1.5)) * curtain;
          // kipinät
          float spark = smoothstep(0.85,1.0, fbm(uv*6.0 - t*0.2));
          // sävyt
          vec3 c1 = vec3(0.08,0.74,0.86);
          vec3 c2 = vec3(0.05,0.86,0.62);
          vec3 aur = mix(c1,c2, col);
          float strength = col*1.35 + spark*0.15;
          vec3 base = vec3(0.04,0.18,0.32);
          vec3 color = base + aur*strength*0.9;
          // pehmeä vinjetti
          float vign = smoothstep(1.2,0.0, dot(p,p)*0.75);
          color *= vign;
          gl_FragColor = vec4(color, 0.92);
        }
      `;

      function compile(type, src){
        const s = gl.createShader(type);
        gl.shaderSource(s, src); gl.compileShader(s);
        if(!gl.getShaderParameter(s, gl.COMPILE_STATUS)){
          console.error(gl.getShaderInfoLog(s)); return null;
        }
        return s;
      }
      const vs = compile(gl.VERTEX_SHADER, vert);
      const fs = compile(gl.FRAGMENT_SHADER, frag);
      const prog = gl.createProgram();
      gl.attachShader(prog, vs); gl.attachShader(prog, fs); gl.linkProgram(prog);
      gl.useProgram(prog);

      const pLoc = gl.getAttribLocation(prog,'p');
      const resLoc = gl.getUniformLocation(prog,'res');
      const tLoc = gl.getUniformLocation(prog,'t');
      const yLoc = gl.getUniformLocation(prog,'yOff');

      // quad
      const buf = gl.createBuffer();
      gl.bindBuffer(gl.ARRAY_BUFFER, buf);
      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
        -1,-1,  1,-1, -1,1,  -1,1, 1,-1, 1,1
      ]), gl.STATIC_DRAW);
      gl.enableVertexAttribArray(pLoc);
      gl.vertexAttribPointer(pLoc, 2, gl.FLOAT, false, 0, 0);

      const state = {
        t0: performance.now(),
        w: 0, h: 0,
        // NOSTETTU YLEMMÄS: mobiili 0.22, desktop 0.26
        y: (innerWidth < 640 ? 0.22 : 0.26),
      };

      function resize(){
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        const w = Math.floor(canvas.clientWidth * dpr);
        const h = Math.floor(canvas.clientHeight * dpr);
        if (w===state.w && h===state.h) return;
        state.w=w; state.h=h;
        canvas.width=w; canvas.height=h;
        gl.viewport(0,0,w,h);
        gl.uniform2f(resLoc, w, h);
      }
      function frame(){
        resize();
        const t = (performance.now() - state.t0) / 1000;
        gl.uniform1f(tLoc, t);
        gl.uniform1f(yLoc, state.y);
        gl.drawArrays(gl.TRIANGLES, 0, 6);
        requestAnimationFrame(frame);
      }
      frame();

      // API hienosäätöä varten
      window.__aurora = {
        setYOffset(v){
          state.y = Math.max(0.0, Math.min(1.0, v || 0.26));
        }
      };
      // iOS/Safari: varmistetaan että canvaksella on layout-koko
      const ensureSize = ()=>{ canvas.style.width='100%'; canvas.style.height='100%'; resize(); };
      window.addEventListener('resize', ensureSize);
      ensureSize();
    })();
  </script>
</body>
</html>
